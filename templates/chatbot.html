{% extends "base.html" %}

{% block content %}
    <p><a href="{{ url_for('dashboard') }}" class="text-blue-500 hover:underline">Back to dashboard</a></p>
    <h1 class="text-2xl font-bold">{{ chatbot.name }}</h1>

    <h2 class="text-xl font-semibold mt-4">Messages</h2>

    {% if chats %}
        <div class="flex-1 overflow-y-auto p-4 space-y-4">
            {% for chat in chats %}
                <div class="flex justify-end">
                    <div class="max-w-xs bg-blue-500 text-white rounded-lg p-3 shadow">
                        <p class="text-sm">{{ chat.user_query }}</p>
                    </div>
                </div>
                <div class="flex justify-start">
                    <div class="max-w-xs bg-white rounded-lg p-3 shadow">
                        <p class="text-sm">{{ chat.response }}</p>
                    </div>
                </div>
            {% endfor %}
        </div>
    {% else %}
        <p class="mt-2">There are no messages for this chatbot.</p>
    {% endif %}
    
    <div class="bg-white border-t border-gray-200 p-4">
        <form method="post" class="flex space-x-2">
            <input type="text" name="query" id="query" required class="flex-1 px-4 py-2 border rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500">
            <input type="submit" value="Send" class="bg-blue-500 text-white px-6 py-2 rounded-full hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2">
        </form>
    </div>
{% endblock %}
